in schemas.py 
What orm_mode = True does:
üîÑ Automatic Conversion: SQLAlchemy ‚Üî Pydantic

What happens behind the scenes:
Database returns: SQLAlchemy User object
<User(id=1, username="john", password_hash="$2b$12$...")>

Pydantic converts to: JSON response
{
  "id": 1,
  "username": "john"
}
Notice: password_hash is automatically excluded (not in UserOut schema)

What happens WITHOUT orm_mode = True

# This would give you an error:
return db_user  # TypeError: Object of type User is not JSON serializable

# You'd need to do this manually:
return UserOut(
    id=db_user.id,
    username=db_user.username
)

in comments.txt

What is bcrypt?
CryptContext(schemes=["bcrypt"]) uses bcrypt algorithm:

in crud.py

db_invoice = models.Invoice(**invoice.dict(), user_id=user_id)

1.invoice.dict()
# Converts InvoiceCreate to dictionary
invoice.dict()
# Returns: {
#     "supplier": "ABC Company",
#     "total_amount": 1500.50,
#     "file_path": "/uploads/invoice.pdf"
# }

2.**invoice.dict()
# Unpacks dictionary as keyword arguments
**{"supplier": "ABC Company", "total_amount": 1500.50, "file_path": "/uploads/invoice.pdf"}

# Becomes:
supplier="ABC Company", total_amount=1500.50, file_path="/uploads/invoice.pdf"

3.
models.Invoice(
    supplier="ABC Company",      # From **invoice.dict()
    total_amount=1500.50,        # From **invoice.dict()
    file_path="/uploads/invoice.pdf",  # From **invoice.dict()
    user_id=user_id              # Added separately
)


‚úÖ Digital PDF vs Scanned PDF ‚Äî What‚Äôs the difference?
1Ô∏è‚É£ Digital PDF

A digital PDF is generated by software (Word, Excel, website, ERP, invoice system‚Ä¶).

‚ùó What‚Äôs inside?

It contains real text layers.
The characters exist in the PDF file:

You can select text with the mouse

You can copy/paste

You can search (Ctrl+F) inside the PDF

‚úî Extractor needed:

üí° PyMuPDF only
Because the text already exists.
No need for OCR.

2Ô∏è‚É£ Scanned PDF

A scanned PDF is created by scanning a paper or taking a photo.

‚ùó What‚Äôs inside?

It contains images only ‚Äî no text layer.

You cannot select text

You cannot search

The page is a photo of text

‚úî Extractor needed:

üí° PyMuPDF + Tesseract OCR

üîé PyMuPDF extracts the image of the page
üß† Tesseract detects and converts text from image ‚Üí text

Otherwise, extraction will return empty string.